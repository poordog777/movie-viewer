![alt text](é›»å½±é¦–é .png)

# Movie Viewer

Movie Viewer æ˜¯ä¸€å€‹ç¾ä»£åŒ–çš„é›»å½±è©•è«–å¹³å°ï¼Œæ•´åˆç¬¬ä¸‰æ–¹ TMDB API æä¾›æœ€æ–°é›»å½±è³‡è¨Šï¼Œä½¿ç”¨è€…å¯ä»¥é€é Google å¸³è™Ÿå¿«é€Ÿç™»å…¥ï¼Œç€è¦½é›»å½±è³‡è¨Šä¸¦é€²è¡Œè©•åˆ†ã€‚

ç¶²ç«™ï¼š
ğŸŒ [https://movie-viewer-p3gmduot3-jacks-projects-1fd523c7.vercel.app/](https://movie-viewer-p3gmduot3-jacks-projects-1fd523c7.vercel.app/)

P.S å›  Railway é¡åº¦å·²ç”¨å®Œï¼Œç¶²ç«™ç›®å‰åƒ…æœ‰å‰ç«¯å¯æ­£å¸¸é‹è¡Œã€‚
    åœ¨é–‹ç™¼ç’°å¢ƒå‰‡å…©è€…éƒ½èƒ½æ­£å¸¸é‹è¡Œã€‚

## åŠŸèƒ½ç‰¹é»
- æ•´åˆ TMDB API å³æ™‚é›»å½±è³‡è¨Š
- Google å¸³è™Ÿå¿«é€Ÿç™»å…¥
- é›»å½±è©•åˆ†ç³»çµ± (1-10åˆ†)
- é›»å½±ç€è¦½æ¨¡å¼
  * ä¸»é é¡¯ç¤ºè¿‘æœŸç†±é–€é›»å½±(æŒ‰ç†±é–€åº¦æ’åº)
  * æœå°‹ç‰¹å®šé›»å½±(æœå°‹æ¡†ï¼Œæ”¯æ´åˆ†é ç€è¦½)

## ç³»çµ±æ–‡æª”

å°ˆæ¡ˆåŒ…å«è©³ç´°çš„ç³»çµ±è¨­è¨ˆæ–‡æª”ï¼Œå¹«åŠ©é–‹ç™¼è€…æ›´å¥½åœ°ç†è§£ç³»çµ±ï¼š

### [æ¶æ§‹è¨­è¨ˆæ–‡æª”](Architecture.md)
- æ•´é«”ç³»çµ±æ¶æ§‹åœ–
- è³‡æ–™åº«è¨­è¨ˆè©³è§£
- æ ¸å¿ƒåŠŸèƒ½æµç¨‹
- æŠ€è¡“é¸æ“‡èªªæ˜
- å®‰å…¨æ€§å’Œæ•ˆèƒ½å„ªåŒ–è€ƒæ…®

### [åŠŸèƒ½è¨­è¨ˆæ–‡æª”](Design.md)
- è©³ç´°åŠŸèƒ½æ¸…å–®
- å®Œæ•´ API è¨­è¨ˆ
- API éŸ¿æ‡‰æ ¼å¼è¦ç¯„
- éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
- é–‹ç™¼é€²åº¦è¿½è¹¤

## API æ–‡æª”
æœ¬å°ˆæ¡ˆæ¡ç”¨ Swagger UI ä½œç‚º API æ–‡æª”å·¥å…·ï¼Œæä¾›äº’å‹•å¼çš„ API æ¸¬è©¦ä»‹é¢ï¼š

### ç·šä¸Šæ–‡æª”ç¶²å€
- å·²éƒ¨ç½²è‡³ Railwayï¼š[https://movie-viewer.up.railway.app/api-docs](https://movie-viewer.up.railway.app/api-docs)

### ä½¿ç”¨èªªæ˜
- API æ¸¬è©¦æ™‚ï¼Œè«‹åœ¨å·¦ä¸Šè§’çš„ Servers é¸å–®ä¸­é¸æ“‡ç¬¬äºŒå€‹ "Production" ç’°å¢ƒ
- æ–‡æª”æä¾›å®Œæ•´çš„ API ç«¯é»èªªæ˜ã€è«‹æ±‚/éŸ¿æ‡‰æ ¼å¼ç¯„ä¾‹

## ä½¿ç”¨æŠ€è¡“ (Tech Stack)

### å¾Œç«¯æŠ€è¡“ (Backend)
- Node.js + Express.js
- TypeScript
- dotenvï¼ˆç’°å¢ƒè®Šæ•¸ç®¡ç†ï¼‰
- Helmetï¼ˆå®‰å…¨æ€§é˜²è­·ï¼‰
- Google OAuth 2.0 + JWTï¼ˆèº«ä»½é©—è­‰ï¼‰
- Joiï¼ˆAPI è«‹æ±‚åƒæ•¸é©—è­‰ï¼‰
- Swaggerï¼ˆAPI æ–‡æª”ï¼‰
- Morganï¼ˆæ—¥èªŒç³»çµ±ï¼‰

### è³‡æ–™åº« (Database)
- PostgreSQLï¼ˆé—œè¯å¼è³‡æ–™åº«ï¼‰
  * ç”¨æˆ¶è³‡æ–™ç®¡ç†
  * é›»å½±è³‡è¨Šå¿«å–
  * è©•åˆ†è³‡æ–™

### è³‡æ–™åº«å·¥å…·
- Prismaï¼ˆORM for PostgreSQLï¼‰

### å‰ç«¯æŠ€è¡“ (Frontend)
- React.js
- TypeScript
- Material UI
- TMDB API æ•´åˆ
- Google OAuth 2.0 æ•´åˆ

### é–‹ç™¼å·¥å…· (Development Tools)
- Nodemonï¼ˆé–‹ç™¼ç†±é‡è¼‰ï¼‰
- Mochaï¼ˆæ¸¬è©¦æ¡†æ¶ï¼‰
  * Chaiï¼ˆæ–·è¨€åº«ï¼‰
  * Supertestï¼ˆHTTP æ¸¬è©¦ï¼‰
  * Sinonï¼ˆæ¸¬è©¦æ›¿èº«ï¼šmockã€stubã€spyï¼‰
- **K6ï¼ˆå¾Œç«¯æ€§èƒ½æ¸¬è©¦ï¼‰**
- **Cypressï¼ˆå‰ç«¯ E2E æ¸¬è©¦ï¼‰**
- **GitHub Actionsï¼ˆCI/CD è‡ªå‹•åŒ–æµç¨‹ï¼‰**

### éƒ¨ç½²ç’°å¢ƒ (Deployment)
- Vercelï¼ˆå‰ç«¯éƒ¨ç½²ï¼‰
- Railwayï¼ˆå¾Œç«¯éƒ¨ç½²ï¼‰

## å°ˆæ¡ˆçµæ§‹
```bash
movie-viewer/
â”œâ”€â”€ backend/              # å¾Œç«¯ç¨‹å¼ç¢¼
â”‚   â”œâ”€â”€ prisma/           # è³‡æ–™åº« Schema
â”‚   â”œâ”€â”€ src/              
â”‚   â”‚   â”œâ”€â”€ config/       # é…ç½®æª”æ¡ˆ
â”‚   â”‚   â”œâ”€â”€ controllers/  # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ middleware/   # ä¸­é–“ä»¶
â”‚   â”‚   â”œâ”€â”€ routes/       # è·¯ç”±å®šç¾©
â”‚   â”‚   â””â”€â”€ services/     # æ¥­å‹™é‚è¼¯
â”‚   â”œâ”€â”€ tests/            # å–®å…ƒæ¸¬è©¦æª”æ¡ˆ
â”‚   â”‚   â””â”€â”€ performance/  # K6 æ€§èƒ½æ¸¬è©¦è…³æœ¬
â”œâ”€â”€ frontend/             # å‰ç«¯ç¨‹å¼ç¢¼
â”‚   â””â”€â”€ cypress/          # Cypress E2E æ¸¬è©¦
â””â”€â”€ .github/
    â””â”€â”€ workflows/        # GitHub Actions CI/CD å·¥ä½œæµç¨‹
```

## é–‹å§‹ä½¿ç”¨

### ç’°å¢ƒè¦æ±‚
- Node.js >= 16
- PostgreSQL

### å®‰è£æ­¥é©Ÿ
1. å…‹éš†å°ˆæ¡ˆ
```bash
git clone https://github.com/poordog777/movie-viewer.git
cd movie-viewer
```

2. å®‰è£ä¾è³´
```bash
# å¾Œç«¯
cd backend
npm install

# å‰ç«¯
cd frontend
npm install
```

3. ç’°å¢ƒè¨­å®š
- è¤‡è£½ `.env.example` åˆ° `.env.development` å’Œ `.env.production`
- åˆ†åˆ¥è¨­å®šé–‹ç™¼å’Œç”Ÿç”¢ç’°å¢ƒçš„å¿…è¦è®Šæ•¸ï¼š
  - DATABASE_URL
  - JWT_SECRET (ç”¨æ–¼ç°½ç½² Google OAuth ç™»å…¥å¾Œçš„ JWT Token)
  - GOOGLE_CLIENT_ID (å¾ Google Cloud Console ç²å–)
  - GOOGLE_CLIENT_SECRET (å¾ Google Cloud Console ç²å–)
  - TMDB_API_KEY (å¾ TMDB é–‹ç™¼è€…å¹³å°ç²å–)

4. å•Ÿå‹•é–‹ç™¼æœå‹™å™¨
```bash
# å¾Œç«¯
npm run dev     # ä½¿ç”¨é–‹ç™¼ç’°å¢ƒé…ç½®
npm run start   # ä½¿ç”¨æ­£å¼ç’°å¢ƒé…ç½®

# å‰ç«¯
npm start
```

### ç’°å¢ƒé…ç½®
å°ˆæ¡ˆæ¡ç”¨å…©å¥—ç’°å¢ƒé…ç½®ï¼š
- é–‹ç™¼ç’°å¢ƒï¼ˆDevelopmentï¼‰ï¼šç”¨æ–¼æœ¬åœ°é–‹ç™¼å’Œæ¸¬è©¦
  * ä½¿ç”¨ .env.development
  * åŒ…å«æ›´è©³ç´°çš„æ—¥èªŒè¼¸å‡º
  * æ”¯æ´æ¸¬è©¦åŠŸèƒ½
- ç”Ÿç”¢ç’°å¢ƒï¼ˆProductionï¼‰ï¼šç”¨æ–¼å¯¦éš›éƒ¨ç½²
  * ä½¿ç”¨ .env.production
  * å„ªåŒ–çš„æ•ˆèƒ½è¨­å®š
  * æœ€å°åŒ–æ—¥èªŒè¼¸å‡º

## æ¸¬è©¦
```bash
# å‰ç«¯ Cypress E2E æ¸¬è©¦
cd frontend
npm test

# å¾Œç«¯å–®å…ƒæ¸¬è©¦
cd backend
npm test

# å¾Œç«¯é‹è¡Œç‰¹å®šæ¸¬è©¦
npm run test:auth    # èªè­‰ç›¸é—œæ¸¬è©¦

# å¾Œç«¯é‹è¡Œ K6 æ€§èƒ½æ¸¬è©¦
npm run test:perf

# CI/CD è‡ªå‹•åŒ–
- æœ¬å°ˆæ¡ˆå·²é…ç½® GitHub Actionsï¼Œæ¯æ¬¡ push æˆ– PR æœƒè‡ªå‹•åŸ·è¡Œæ¸¬è©¦èˆ‡éƒ¨ç½²æµç¨‹ã€‚
- å·¥ä½œæµç¨‹å®šç¾©æ–¼ `.github/workflows/` ç›®éŒ„ä¸‹ã€‚